@model Src.Models.ViewData.Table.Product.SearchPageModel
@{
    ViewBag.Title = Model.SeoTitle;
    Layout = "~/Views/Sheared/_Layout_Primary.cshtml";
}

@section MetaTags{
    <meta name="description" content="@ViewBag.Title">
    <meta name="keywords" content="@Model.Params.Category,@Model.Params.Brand">
    <meta name="author" content="T.Yasaghi">
}

<div class="container padding-top-3x mt-1 padding-bottom-3x mb-1">
    <div class="row">
        <!-- Products-->
        <div class="col-lg-9 order-lg-1">
            <!-- Shop Toolbar-->
            <div class="shop-toolbar padding-bottom-1x mb-2">
                <div class="column">
                    <ul class="breadcrumbs text-right">
                        <li><a href='/'>فروشگاه لپتاپ آسیا</a></li>
                    </ul>
                </div>
                <div class="column text-left">
                    <div class="shop-sorting">
                        <label for="sorting">مرتب سازی بر اساس :</label>
                        @Html.DropDownListFor(item => Model.Params.SortBy,
                                        EnumHelper.GetSelectList(typeof(Src.Models.ViewData.Table.Product.SortType)),
                                        new { @class = "form-control" , id= "sorting" })

                        <span class="text-muted"></span><span>@Model.Results.Count کالا</span>
                    </div>
                </div>
            </div>
            <!-- Products Grid-->
            <div class="row" dir="rtl">
                @foreach (var item in Model.Results)
                {
                    string imgPath = $"/Files/Product/{item.ID}.jpg";
                    <div class="col-lg-4 col-sm-6 col-xs-12">
                        <div class="product-card mb-30">
                            <div class="rating-stars">
                                @{
                                    if (item.Rate > 2)
                                    {
                                        int i = 0;
                                        for (i = 0; i < item.Rate; i++)
                                        {
                                            <i class="icon-star filled"></i>
                                        }
                                        if (i < 5)
                                        {
                                            int diff = 5 - i;
                                            for (i = 0; i < diff; i++)
                                            {
                                                <i class="icon-star"></i>
                                            }
                                        }
                                    }
                                }
                            </div><a class="product-thumb" href="/Product/ALP-@item.ID/@item.Title"><img src="@imgPath" alt="@item.Title"></a>
                            <div class="product-card-body">
                                <h3 class="product-title" lang="en"><a href="/Product/ALP-@item.ID/@item.Title">@item.Title</a></h3>
                                <h4 class="product-price">@item.Price تومان</h4>
                            </div>
                            <div class="product-button-group"><a class="product-button"><i class="icon-shopping-cart"></i><span>افزودن به سبد خرید</span></a></div>
                        </div>
                    </div>
                }
            </div>
            <!-- Pagination-->
            <nav class="pagination">
                <div class="column">
                    <ul class="pages">
                        <li class="active"><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li>...</li>
                        <li><a href="#">12</a></li>
                    </ul>
                </div>
                <div class="column text-left hidden-xs-down"><a class="btn btn-outline-secondary btn-sm" href="#">صفحه بعد&nbsp;<i class="icon-chevron-left"></i></a></div>
            </nav>
        </div>
        <!-- Sidebar-->
        <div class="col-lg-3 order-lg-2">
            <div class="sidebar-toggle position-left"><i class="icon-filter"></i></div>
            <aside class="sidebar sidebar-offcanvas position-left">
                <span class="sidebar-close"><i class="icon-x"></i></span>
                <!-- Widget Categories-->
                <section class="widget widget-categories">
                    <h3 class="widget-title">دستبندی نتایج</h3>
                    <ul>
                        <li class="has-children expanded">
                            <a href="#">لپتاپ نو</a><span>(1138)</span>
                            <ul>
                                <li>
                                    <a href="#">برند</a><span>(10)</span>
                                    <ul>
                                        <li><a href="#">Asus</a></li>
                                        <li><a href="#">Apple</a></li>
                                        <li><a href="#">Dell</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#">پردازنده</a><span>(4)</span>
                                    <ul lang="en">
                                        <li><a href="#">i9</a></li>
                                        <li><a href="#">i7</a></li>
                                        <li><a href="#">i5</a></li>
                                        <li><a href="#">i3</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#">قیمت</a><span>(4)</span>
                                    <ul>
                                        <li><a href="#">کمتر از 5 ملیون</a></li>
                                        <li><a href="#">بین 5 تا ده ملیون</a></li>
                                        <li><a href="#">بیشتر از ده ملیون</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <!-- Widget Price Range-->
                <section class="widget widget-categories">
                    <h3 class="widget-title">محدوده قیمت مورد نظر</h3>
                    <form class="price-range-slider" method="post" data-start-min="0" data-start-max="24000000" data-min="0" data-max="24000000" data-step="500000">
                        <div class="ui-range-slider"></div>
                        <footer class="ui-range-slider-footer">
                            <div class="ui-range-values">
                                <div class="ui-range-value-min">
                                    از <span></span> تومان
                                    <input type="hidden">
                                </div>&nbsp;تا&nbsp;
                                <div class="ui-range-value-max">
                                    <span></span> تومان
                                    <input type="hidden">
                                </div>
                            </div>
                            <button class="btn btn-outline-primary btn-sm" type="submit">اعمال محدودیت</button>
                        </footer>
                    </form>
                </section>
                <section class="widget">
                    <h3 class="widget-title">برند</h3>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="low">
                        <label class="custom-control-label" for="low">Apple</label>
                    </div>
                </section>
                <section class="widget">
                    <h3 class="widget-title">حافظه رم</h3>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="low">
                        <label class="custom-control-label" for="low">4 گیگ</label>
                    </div>
                </section>
                <section class="widget" lang="en">
                    <h3 class="widget-title">نوع حافظه رم</h3>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" type="checkbox" id="low">
                        <label class="custom-control-label" for="low">DDR4</label>
                    </div>
                </section>
            </aside>
        </div>
    </div>
</div>
